<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Chat</title><link rel="stylesheet" href="/css/styles.css"></head>
<body>
<main style="padding:12px">
  <h3>CareerGenie Chatbot (demo)</h3>
  <div id="log" style="height:360px;overflow:auto;border:1px solid #eee;padding:8px;border-radius:8px"></div>
  <textarea id="m" style="width:100%;height:60px"></textarea>
  <button class="btn" id="send">Send</button>
</main>
<script>
document.getElementById('send').addEventListener('click', async ()=>{
  const m = document.getElementById('m').value;
  const res = await fetch('/api/chat/message', { method:'POST', headers:{'content-type':'application/json'}, body: JSON.stringify({ message: m }) });
  const j = await res.json();
  const log = document.getElementById('log');
  log.innerHTML += '<div style="margin:8px 0"><strong>You:</strong><div>'+m+'</div><strong>Bot:</strong><div>'+j.reply+'</div></div>';
  document.getElementById('m').value='';
});
</script>
</body>
</html>
